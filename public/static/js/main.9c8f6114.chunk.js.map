{"version":3,"sources":["Layout/ArticleRate/ArticleRate.module.css","Layout/Homepage/Main/Main.module.css","Layout/Homepage/Heading/Heading.module.css","Component/ArticleCard/ArticleCard.module.css","Layout/ViewArticle/ViewArticle.module.css","Component/CommentCard/CommentCard.module.css","Config/firebase-redux.js","Config/firebase.js","NewComment/NewComment.js","Layout/LoginPage/LoginPage.js","Layout/ViewArticle/ViewArticle.js","Layout/NewArticle/NewArticle.js","Layout/ArticleRate/ArticleRate.js","Component/ArticleCard/ArticleCard.js","Layout/Homepage/Main/Main.js","Layout/Homepage/Heading/Heading.js","Component/CommentCard/CommentCard.js","Layout/Comments/Comments.js","Layout/RouterManager/RouterManager.js","App.js","index.js","NewComment/NewComment.module.css","Layout/NewArticle/NewArticle.module.css"],"names":["module","exports","rootReducer","combineReducers","firebase","firebaseReducer","store","createStore","rrfProps","config","dispatch","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","recaptchaInstance","uiConfig","signInFlow","signInSuccessUrl","signInOptions","auth","signInAnonymously","GoogleAuthProvider","PROVIDER_ID","LoginPage","props","Container","Button","color","firebaseAuth","block","onClick","Component","connect","profile","enhance","db","firestore","storageRef","storage","NewComment","modules","toolbar","container","size","handlers","image","quillImageCallBack","clipboard","matchVisual","formats","attachQuillRefs","reactQuillRef","getEditor","quillRef","onChangeCommentContent","value","quill","on","delta","old","source","getLength","deleteText","setState","comment","state","content","submitComment","aid","window","location","pathname","slice","createUserID","currentUser","uid","hasFeatureImage","createDate","Date","collection","doc","add","then","res","catch","err","console","log","isModalOpen","featureImage","update","commentCount","FieldValue","increment","reset","fileCompress","file","Promise","resolve","reject","Compressor","quality","maxWidth","maxHeight","success","error","message","deleteImageCallBack","e","fileName","ref","child","delete","uploadImageCallBack","a","target","files","uuidv4","put","snapshot","getDownloadURL","downloadURL","data","link","toggleModal","verifyCallback","bind","expiredCallback","isVerified","commentID","this","response","str","submitButtonCondition","toString","replace","length","className","classes","NewCommentMain","Modal","isOpen","ModalHeader","toggle","FormGroup","Input","type","accept","ImageUploader","onChange","uploadState","ImageUploaded","src","FeatureImg","ModalBody","el","placeholder","theme","sitekey","render","ModalFooter","style","borderRadius","disabled","textAlign","outline","TextEditor","ViewArticle","modalRef","showModal","onCommentClick","getArticleByID","get","exists","article","isLoaded","history","push","timeStampToString","ts","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","hasOwnProperty","match","params","id","ViewArticleContainer","Article","ArticleInfo","Title","title","ImageContainer","Image","alt","ArticleMain","parse","Info","Badge","marginRight","seconds","withRouter","NewArticle","onChangeArticleTitle","onChangeArticleContent","submitArticle","input","document","createElement","setAttribute","click","onchange","compressState","range","getSelection","insertEmbed","index","positiveRatings","negativeRatings","trim","NewArticleMain","Row","Col","sn","name","maxLength","ArticleRate","positiveRating","userRef","articleRef","includes","negativeRating","paddingLeft","paddingRight","Rate","marginLeft","classeName","HorLine","articleScore","isEmpty","ImageLink","to","Math","round","Main","nextArticle","last","lastArticle","orderBy","startAfter","limit","docs","empty","articles","allArticles","forEach","updated_articles","concat","scrollTo","body","scrollHeight","getMyArticles","onSnapshot","map","key","MoreButton","Heading","nextProps","nextContext","getIdTokenResult","claim","Navbar","expand","fixed","NavbarBrand","href","Logo","Nav","navbar","NavItem","NavbarToggler","Collapse","signOut","CommentCard","CommentCardContainer","Comment","CommentMain","data-toggle","data-placement","Comments","getMyComments","allComments","comments","AdminOnly","ComposedComponent","isPass","RouterManager","exact","path","component","App","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9c8f6114.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Rate\":\"ArticleRate_Rate__3n8KO\",\"Button\":\"ArticleRate_Button__3rAsg\",\"HorLine\":\"ArticleRate_HorLine__1_DoA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MoreButton\":\"Main_MoreButton__1TJzB\",\"Main\":\"Main_Main__1g2x6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Logo\":\"Heading_Logo__3zPSh\",\"NewCommentRef\":\"Heading_NewCommentRef__2HpJ1\",\"Navbar\":\"Heading_Navbar__3r5Yl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ViewArticleContainer\":\"ArticleCard_ViewArticleContainer__3Z6CP\",\"Article\":\"ArticleCard_Article__1Fwq0\",\"Info\":\"ArticleCard_Info__2frWV\",\"Title\":\"ArticleCard_Title__30hz2\",\"ImageContainer\":\"ArticleCard_ImageContainer__2ySJx\",\"Image\":\"ArticleCard_Image__3um7j\",\"ArticleMain\":\"ArticleCard_ArticleMain__1oZ7A\",\"HorLine\":\"ArticleCard_HorLine__2S7XW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ViewArticleContainer\":\"ViewArticle_ViewArticleContainer__JNONN\",\"Article\":\"ViewArticle_Article__1OS1h\",\"Info\":\"ViewArticle_Info__4B8Zo\",\"Title\":\"ViewArticle_Title__dhUNw\",\"ImageContainer\":\"ViewArticle_ImageContainer__3SykP\",\"Image\":\"ViewArticle_Image__yUnwt\",\"ArticleMain\":\"ViewArticle_ArticleMain__2laaM\",\"NewCommentRef\":\"ViewArticle_NewCommentRef__308R0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentCardContainer\":\"CommentCard_CommentCardContainer__3sFC8\",\"Comment\":\"CommentCard_Comment__1t28v\",\"Image\":\"CommentCard_Image__15k2G\",\"CommentMain\":\"CommentCard_CommentMain__1Pdjh\",\"Info\":\"CommentCard_Info__1dpYW\",\"HorLine\":\"CommentCard_HorLine__xhY0Q\"};","import { combineReducers, createStore } from \"redux\";\r\nimport { firebaseReducer } from \"react-redux-firebase\";\r\nimport * as firebase from \"firebase\";\r\n\r\nconst rootReducer = combineReducers({\r\n  firebase: firebaseReducer,\r\n});\r\n\r\nconst initialState = {};\r\n\r\nconst store = createStore(rootReducer, initialState);\r\n\r\nconst rrfConfig = {};\r\n\r\nconst rrfProps = {\r\n  firebase,\r\n  config: rrfConfig,\r\n  dispatch: store.dispatch,\r\n};\r\n\r\nexport function getReduxStore() {\r\n  return store;\r\n}\r\n\r\nexport function getRrfProp() {\r\n  return rrfProps;\r\n}\r\n","import * as firebase from \"firebase\";\r\n// firebase informacija\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA1YZtMb3vyqkdAVpclIghDM6GAHaZocpM\",\r\n  authDomain: \"react-blog-a39d2.firebaseapp.com\",\r\n  databaseURL: \"https://react-blog-a39d2.firebaseio.com\",\r\n  projectId: \"react-blog-a39d2\",\r\n  storageBucket: \"react-blog-a39d2.appspot.com\",\r\n  messagingSenderId: \"47960617433\",\r\n  appId: \"1:47960617433:web:ab66e92b01deaaf62169c8\",\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nfirebase.firestore();\r\n\r\nexport default firebase;\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n  Alert,\r\n  Button,\r\n  Form,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n} from \"reactstrap\";\r\nimport classes from \"./NewComment.module.css\";\r\nimport ReactQuill from \"react-quill\";\r\nimport Recaptcha from \"react-recaptcha\";\r\n\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport firebase from \"../Config/firebase\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport Compressor from \"compressorjs\";\r\n\r\nconst db = firebase.firestore();\r\nconst storageRef = firebase.storage();\r\nlet recaptchaInstance;\r\n\r\nclass NewComment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.verifyCallback = this.verifyCallback.bind(this);\r\n    this.expiredCallback = this.expiredCallback.bind(this);\r\n    this.onChangeCommentContent = this.onChangeCommentContent.bind(this);\r\n    this.quillRef = null; // Quill instance\r\n    this.reactQuillRef = null;\r\n\r\n    this.state = {\r\n      isModalOpen: false,\r\n      isVerified: false,\r\n      hasFeatureImage: false,\r\n\r\n      comment: {\r\n        commentID: \"\",\r\n        content: \"\",\r\n        createDate: \"\",\r\n        featureImage: \"\",\r\n        createUserID: \"\",\r\n      },\r\n    };\r\n  }\r\n\r\n  modules = {\r\n    toolbar: {\r\n      container: [\r\n        [{ size: [] }],\r\n        [\"bold\", \"italic\", \"underline\", \"strike\"],\r\n        // [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n        [\"link\"],\r\n        // [\"code-block\"],\r\n      ],\r\n      handlers: {\r\n        image: () => this.quillImageCallBack(),\r\n      },\r\n    },\r\n    clipboard: {\r\n      matchVisual: false,\r\n    },\r\n  };\r\n\r\n  formats = [\r\n    \"header\",\r\n    \"font\",\r\n    \"size\",\r\n    \"bold\",\r\n    \"italic\",\r\n    \"underline\",\r\n    \"strike\",\r\n    // \"blockquote\",\r\n    // \"list\",\r\n    // \"bullet\",\r\n    // \"indent\",\r\n    \"link\",\r\n    // \"image\",\r\n    // \"video\",\r\n    // \"code-block\",\r\n  ];\r\n\r\n  componentDidMount() {\r\n    this.attachQuillRefs();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.attachQuillRefs();\r\n  }\r\n\r\n  attachQuillRefs = () => {\r\n    if (typeof this.reactQuillRef.getEditor !== \"function\") return;\r\n    this.quillRef = this.reactQuillRef.getEditor();\r\n  };\r\n\r\n  onChangeCommentContent = (value) => {\r\n    const limit = 10000;\r\n    var quill = this.quillRef;\r\n    quill.on(\"text-change\", function (delta, old, source) {\r\n      if (quill.getLength() > limit) {\r\n        quill.deleteText(limit, quill.getLength());\r\n      }\r\n    });\r\n    this.setState({\r\n      comment: {\r\n        ...this.state.comment,\r\n        content: value,\r\n      },\r\n    });\r\n  };\r\n\r\n  verifyCallback(response) {\r\n    if (response) {\r\n      this.setState({\r\n        isVerified: true,\r\n      });\r\n    }\r\n  }\r\n  expiredCallback() {\r\n    this.setState({\r\n      isVerified: false,\r\n    });\r\n  }\r\n\r\n  submitComment = () => {\r\n    const aid = window.location.pathname.slice(9);\r\n    this.state.comment.createUserID = firebase.auth().currentUser.uid;\r\n\r\n    // const comment = this.state.comment;\r\n\r\n    this.setState(\r\n      {\r\n        hasFeatureImage: false,\r\n        comment: {\r\n          ...this.state.comment,\r\n          createDate: new Date(),\r\n        },\r\n      },\r\n      () => {\r\n        db.collection(\"Articles\")\r\n          .doc(aid)\r\n          .collection(\"Comments\")\r\n          .add(this.state.comment)\r\n          .then((res) => {})\r\n          .catch((err) => console.log(err));\r\n        this.reactQuillRef\r\n          .getEditor()\r\n          .deleteText(0, this.reactQuillRef.getEditor().getLength());\r\n        this.setState({\r\n          isModalOpen: !this.state.isModalOpen,\r\n          comment: {\r\n            ...this.state.comment,\r\n            featureImage: \"\",\r\n            content: \"\",\r\n          },\r\n        });\r\n      }\r\n    );\r\n\r\n    const articleRef = db.collection(\"Articles\").doc(aid);\r\n    articleRef.update({\r\n      commentCount: firebase.firestore.FieldValue.increment(1),\r\n    });\r\n    recaptchaInstance.reset();\r\n  };\r\n\r\n  fileCompress = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n      new Compressor(file, {\r\n        file: \"File\",\r\n        quality: 0.5,\r\n        maxWidth: 640,\r\n        maxHeight: 640,\r\n        success(file) {\r\n          return resolve({\r\n            success: true,\r\n            file: file,\r\n          });\r\n        },\r\n        error(err) {\r\n          return resolve({\r\n            success: false,\r\n            message: err.message,\r\n          });\r\n        },\r\n      });\r\n    });\r\n  };\r\n\r\n  deleteImageCallBack = (e) => {\r\n    const fileName = this.state.comment.featureImage.slice(86, 122);\r\n    storageRef\r\n      .ref()\r\n      .child(\"Comments/\" + fileName)\r\n      .delete()\r\n      .then(() => {\r\n        this.setState({\r\n          hasFeatureImage: false,\r\n          comment: {\r\n            ...this.state.comment,\r\n            featureImage: \"\",\r\n          },\r\n        });\r\n        console.log(\"file deleted!\" + this.state.comment.featureImage);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"nothing to delete!\");\r\n      });\r\n  };\r\n\r\n  uploadImageCallBack = (e) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      const file = e.target.files[0];\r\n      const fileName = uuidv4();\r\n      storageRef\r\n        .ref()\r\n        .child(\"Comments/\" + fileName)\r\n        .put(file)\r\n        .then(async (snapshot) => {\r\n          const downloadURL = await storageRef\r\n            .ref()\r\n            .child(\"Comments/\" + fileName)\r\n            .getDownloadURL();\r\n          resolve({\r\n            success: true,\r\n            data: { link: downloadURL },\r\n          });\r\n        });\r\n    });\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState({\r\n      isModalOpen: !this.state.isModalOpen,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    function removeTags(str) {\r\n      if (str === null || str === \"\") return false;\r\n      else str = str.toString();\r\n      return str.replace(/(<([^>]+)>)/gi, \"\");\r\n    }\r\n    const submitButtonCondition =\r\n      this.state.isVerified &&\r\n      (removeTags(this.state.comment.content).length >= 1 ||\r\n        this.state.comment.featureImage.length != 0);\r\n    return (\r\n      <Container className={classes.NewCommentMain}>\r\n        <Modal isOpen={this.state.isModalOpen}>\r\n          <ModalHeader\r\n            toggle={() =>\r\n              this.setState({ isModalOpen: !this.state.isModalOpen })\r\n            }\r\n          >\r\n            {\" \"}\r\n            <FormGroup>\r\n              {/* <header className={classes.Label}> Feature Image</header> */}\r\n              <Input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                className={classes.ImageUploader}\r\n                onChange={async (e) => {\r\n                  const uploadState = await this.uploadImageCallBack(e);\r\n                  if (uploadState.success) {\r\n                    this.setState({\r\n                      hasFeatureImage: true,\r\n                      comment: {\r\n                        ...this.state.comment,\r\n                        featureImage: uploadState.data.link,\r\n                      },\r\n                    });\r\n                    console.log(\r\n                      \"Comment Image has been uploaded to:\" +\r\n                        uploadState.data.link\r\n                    );\r\n                  }\r\n                }}\r\n              ></Input>\r\n\r\n              {this.state.hasFeatureImage ? (\r\n                <header className={classes.ImageUploaded}>\r\n                  <img\r\n                    src={this.state.comment.featureImage}\r\n                    className={classes.FeatureImg}\r\n                  />\r\n                  <Button onClick={() => this.deleteImageCallBack()}>X</Button>\r\n                </header>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </FormGroup>\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            {\" \"}\r\n            <FormGroup>\r\n              {/* <header class=\"border-bottom-0\" className={classes.Label}>\r\n                Content\r\n              </header> */}\r\n              <ReactQuill\r\n                ref={(el) => (this.reactQuillRef = el)}\r\n                value={this.state.comment.content}\r\n                onChange={(e) => this.onChangeCommentContent(e)}\r\n                placeholder=\"Type in a comment...\"\r\n                theme=\"snow\"\r\n                modules={this.modules}\r\n                formats={this.formats}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Recaptcha\r\n                ref={(e) => (recaptchaInstance = e)}\r\n                sitekey=\"6LeF59IZAAAAAK3nudAyu9wQDemGRHGN1LltZ95C\"\r\n                render=\"explicit\"\r\n                verifyCallback={this.verifyCallback}\r\n                expiredCallback={this.expiredCallback}\r\n              />\r\n            </FormGroup>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            {\" \"}\r\n            {!submitButtonCondition ? (\r\n              <FormGroup>\r\n                <Button style={{ borderRadius: 0 }} color=\"dark\" disabled>\r\n                  {\" \"}\r\n                  SUBMIT\r\n                </Button>\r\n              </FormGroup>\r\n            ) : (\r\n              <FormGroup>\r\n                <Button\r\n                  style={{ borderRadius: 0 }}\r\n                  color=\"dark\"\r\n                  onClick={(e) => this.submitComment()}\r\n                >\r\n                  {\" \"}\r\n                  SUBMIT\r\n                </Button>\r\n              </FormGroup>\r\n            )}\r\n          </ModalFooter>\r\n        </Modal>\r\n\r\n        <FormGroup style={{ textAlign: \"center\" }}>\r\n          {\" \"}\r\n          <Button\r\n            style={{ borderRadius: 0 }}\r\n            size=\"sm\"\r\n            outline\r\n            color=\"dark\"\r\n            onClick={(e) => this.toggleModal()}\r\n          >\r\n            {\" \"}\r\n            CREATE A REPLY\r\n          </Button>\r\n        </FormGroup>\r\n        <ReactQuill\r\n          //\r\n          className={classes.TextEditor}\r\n          ref={(el) => (this.reactQuillRef = el)}\r\n          value={this.state.comment.content}\r\n          onChange={(e) => this.onChangeCommentContent(e)}\r\n          placeholder=\"Type in a comment...\"\r\n          theme=\"snow\"\r\n          modules={this.modules}\r\n          formats={this.formats}\r\n        />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewComment;\r\n","import React, { Component } from \"react\";\r\nimport { Container, Button } from \"reactstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\nimport firebase from \"../../Config/firebase\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst uiConfig = {\r\n  signInFlow: \"popup\",\r\n  signInSuccessUrl: \"/\",\r\n  signInOptions: [\r\n    firebase.auth.signInAnonymously,\r\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n  ],\r\n};\r\n\r\nclass LoginPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Button\r\n          uiConfig={uiConfig}\r\n          color=\"danger\"\r\n          firebaseAuth={firebase.auth()}\r\n          block\r\n          onClick={() => {\r\n            firebase.auth().signInAnonymously();\r\n          }}\r\n        >\r\n          Get my oldthink name\r\n        </Button>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst enhance = connect(({ firebase: { auth, profile } }) => ({\r\n  auth,\r\n  profile,\r\n}));\r\n\r\nexport default enhance(LoginPage);\r\n","import React, { Component } from \"react\";\r\nimport classes from \"./ViewArticle.module.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport parse from \"html-react-parser\";\r\nimport { Container, Badge, Button } from \"reactstrap\";\r\nimport firebase from \"../../../src/Config/firebase\";\r\nimport NewComment from \"../../NewComment/NewComment\";\r\n\r\nconst db = firebase.firestore();\r\n\r\nclass ViewArticle extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      article: {},\r\n      isLoaded: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (typeof this.props.location.state !== \"undefined\") {\r\n      if (this.props.location.state.hasOwnProperty(\"article\")) {\r\n        this.setState(\r\n          {\r\n            article: this.props.location.state.article,\r\n          },\r\n          () => {\r\n            this.setState({ isLoaded: true });\r\n          }\r\n        );\r\n      }\r\n    } else {\r\n      this.getArticleByID(this.props.match.params.id);\r\n    }\r\n  }\r\n\r\n  modalRef = ({ toggleModal }) => {\r\n    this.showModal = toggleModal;\r\n  };\r\n\r\n  onCommentClick = () => {\r\n    this.showModal();\r\n  };\r\n\r\n  // ka sita funkcija daro??\r\n  getArticleByID = (aid) => {\r\n    db.collection(\"Articles\")\r\n      .doc(aid)\r\n      .get()\r\n      .then((doc) => {\r\n        if (doc.exists) {\r\n          this.setState(\r\n            {\r\n              article: doc.data(),\r\n            },\r\n            () => {\r\n              this.setState({\r\n                isLoaded: true,\r\n              });\r\n            }\r\n          );\r\n        } else {\r\n          this.props.history.push({ pathname: \"/\" });\r\n        }\r\n      });\r\n  };\r\n\r\n  timeStampToString = (ts) => {\r\n    const date = new Date(ts * 1000);\r\n    return (\r\n      date.getFullYear() +\r\n      \"/\" +\r\n      (date.getMonth() + 1) +\r\n      \"/\" +\r\n      date.getDate() +\r\n      \" \" +\r\n      (date.getHours() < 10 ? \"0\" : \"\") +\r\n      date.getHours() +\r\n      \":\" +\r\n      (date.getMinutes() < 10 ? \"0\" : \"\") +\r\n      date.getMinutes() +\r\n      \":\" +\r\n      (date.getSeconds() < 10 ? \"0\" : \"\") +\r\n      date.getSeconds()\r\n    );\r\n  };\r\n\r\n  render() {\r\n    if (this.state.isLoaded) {\r\n      return (\r\n        <div>\r\n          <Container className={classes.ViewArticleContainer}>\r\n            <div className={classes.Article}>\r\n              <div className={classes.ArticleInfo}>\r\n                <header className={classes.Title}>\r\n                  {this.state.article.title}\r\n                </header>\r\n              </div>\r\n              <div className={classes.ImageContainer}>\r\n                <img\r\n                  className={classes.Image}\r\n                  src={this.state.article.featureImage}\r\n                  alt={this.state.article.title}\r\n                />\r\n              </div>\r\n              <div className={classes.ArticleMain}>\r\n                {parse(this.state.article.content)}\r\n              </div>\r\n            </div>\r\n            <div className={classes.Info}>\r\n              {\" \"}\r\n              <Badge style={{ marginRight: 4 }}>\r\n                {this.state.article.createUserID.slice(0, 7)}\r\n              </Badge>\r\n              <Badge style={{ marginRight: 4 }}>\r\n                {\" \"}\r\n                {this.timeStampToString(this.state.article.createDate.seconds)}\r\n              </Badge>\r\n              <Badge>{this.state.article.commentCount}</Badge>\r\n            </div>\r\n          </Container>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <div>loading...</div>;\r\n    }\r\n  }\r\n}\r\n\r\nexport default withRouter(ViewArticle);\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n  Button,\r\n  Form,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n} from \"reactstrap\";\r\nimport Recaptcha from \"react-recaptcha\";\r\nimport classes from \"./NewArticle.module.css\";\r\nimport ReactQuill from \"react-quill\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport firebase from \"../../Config/firebase\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport Compressor from \"compressorjs\";\r\nimport { isEmpty } from \"react-redux-firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst storageRef = firebase.storage();\r\n\r\nclass NewArticle extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.verifyCallback = this.verifyCallback.bind(this);\r\n    this.expiredCallback = this.expiredCallback.bind(this);\r\n    this.onChangeArticleContent = this.onChangeArticleContent.bind(this);\r\n    this.quillRef = null; // Quill instance\r\n    this.reactQuillRef = null;\r\n\r\n    this.state = {\r\n      isVerified: false,\r\n      isModalOpen: true,\r\n      article: {\r\n        title: \"\",\r\n        content: \"\",\r\n        createDate: new Date(),\r\n        featureImage: \"\",\r\n        positiveRatings: 0,\r\n        negativeRatings: 0,\r\n        createUserID: \"\",\r\n      },\r\n    };\r\n  }\r\n\r\n  modules = {\r\n    toolbar: {\r\n      container: [\r\n        [{ size: [] }],\r\n        [\"bold\", \"italic\", \"underline\", \"strike\"],\r\n        // [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n        [\"link\"],\r\n        // [\"code-block\"],\r\n      ],\r\n      handlers: {\r\n        image: () => this.quillImageCallBack(),\r\n      },\r\n    },\r\n    clipboard: {\r\n      matchVisual: false,\r\n    },\r\n  };\r\n\r\n  formats = [\r\n    \"header\",\r\n    \"font\",\r\n    \"size\",\r\n    \"bold\",\r\n    \"italic\",\r\n    \"underline\",\r\n    \"strike\",\r\n    // \"blockquote\",\r\n    // \"list\",\r\n    // \"bullet\",\r\n    // \"indent\",\r\n    \"link\",\r\n    // \"image\",\r\n    // \"video\",\r\n    // \"code-block\",\r\n  ];\r\n\r\n  componentDidMount() {\r\n    this.attachQuillRefs();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.attachQuillRefs();\r\n  }\r\n\r\n  attachQuillRefs = () => {\r\n    if (typeof this.reactQuillRef.getEditor !== \"function\") return;\r\n    this.quillRef = this.reactQuillRef.getEditor();\r\n  };\r\n\r\n  onChangeArticleTitle = (value) => {\r\n    this.setState({\r\n      article: {\r\n        ...this.state.article,\r\n        title: value,\r\n      },\r\n    });\r\n  };\r\n\r\n  onChangeArticleContent = (value) => {\r\n    const limit = 15000;\r\n    var quill = this.quillRef;\r\n    quill.on(\"text-change\", function (delta, old, source) {\r\n      if (quill.getLength() > limit) {\r\n        quill.deleteText(limit, quill.getLength());\r\n      }\r\n    });\r\n    this.setState({\r\n      article: {\r\n        ...this.state.article,\r\n        content: value,\r\n      },\r\n    });\r\n  };\r\n\r\n  verifyCallback(response) {\r\n    if (response) {\r\n      this.setState({\r\n        isVerified: true,\r\n      });\r\n    }\r\n  }\r\n  expiredCallback() {\r\n    this.setState({\r\n      isVerified: false,\r\n    });\r\n  }\r\n\r\n  submitArticle = () => {\r\n    const article = this.state.article;\r\n    article.createUserID = this.props.auth.uid;\r\n    db.collection(\"Articles\")\r\n      .add(article)\r\n      .then((res) => {\r\n        console.log(res);\r\n      })\r\n      .catch((err) => console.log(err));\r\n    this.props.history.push(\"/\");\r\n  };\r\n\r\n  fileCompress = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n      new Compressor(file, {\r\n        file: \"File\",\r\n        quality: 0.5,\r\n        maxWidth: 640,\r\n        maxHeight: 640,\r\n        success(file) {\r\n          return resolve({\r\n            success: true,\r\n            file: file,\r\n          });\r\n        },\r\n        error(err) {\r\n          return resolve({\r\n            success: false,\r\n            message: err.message,\r\n          });\r\n        },\r\n      });\r\n    });\r\n  };\r\n\r\n  quillImageCallBack = () => {\r\n    const input = document.createElement(\"input\");\r\n    input.setAttribute(\"type\", \"file\");\r\n    input.setAttribute(\"accept\", \"image/*\");\r\n    input.click();\r\n\r\n    input.onchange = async () => {\r\n      const file = input.files[0];\r\n      const compressState = await this.fileCompress(file);\r\n      if (compressState.success) {\r\n        const fileName = uuidv4();\r\n        storageRef\r\n          .ref()\r\n          .child(\"Articles/\" + fileName)\r\n          .put(compressState.file)\r\n          .then(async (snapshot) => {\r\n            const downloadURL = await storageRef\r\n              .ref()\r\n              .child(\"Articles/\" + fileName)\r\n              .getDownloadURL();\r\n            let quill = this.quill.getEditor();\r\n            const range = quill.getSelection(true);\r\n            quill.insertEmbed(range.index, \"image\", downloadURL);\r\n          });\r\n      }\r\n    };\r\n  };\r\n\r\n  deleteImageCallBack = (e) => {\r\n    const fileName = this.state.article.featureImage.slice(86, 122);\r\n    storageRef\r\n      .ref()\r\n      .child(\"Articles/\" + fileName)\r\n      .delete()\r\n      .then(() => {\r\n        this.setState({\r\n          hasFeatureImage: false,\r\n          article: {\r\n            ...this.state.article,\r\n            featureImage: \"\",\r\n          },\r\n        });\r\n        console.log(\"file deleted!\" + this.state.article.featureImage);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"nothing to delete!\");\r\n      });\r\n  };\r\n\r\n  uploadImageCallBack = (e) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      const file = e.target.files[0];\r\n      const fileName = uuidv4();\r\n      storageRef\r\n        .ref()\r\n        .child(\"Articles/\" + fileName)\r\n        .put(file)\r\n        .then(async (snapshot) => {\r\n          const downloadURL = await storageRef\r\n            .ref()\r\n            .child(\"Articles/\" + fileName)\r\n            .getDownloadURL();\r\n          resolve({\r\n            success: true,\r\n            data: { link: downloadURL },\r\n          });\r\n        });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    function removeTags(str) {\r\n      if (str === null || str === \"\") return false;\r\n      else str = str.toString();\r\n      return str.replace(/(<([^>]+)>)/gi, \"\");\r\n    }\r\n    const submitButtonCondition =\r\n      removeTags(this.state.article.content).length >= 1 &&\r\n      this.state.article.title.length >= 1 &&\r\n      this.state.article.featureImage.length != 0 &&\r\n      this.state.article.title.trim() &&\r\n      this.state.isVerified;\r\n\r\n    return (\r\n      <Container className={classes.NewArticleMain}>\r\n        <Row>\r\n          <Col sn={12}>\r\n            {\" \"}\r\n            <FormGroup>\r\n              {/* <header class=\"border-bottom-0\" className={classes.Label}>\r\n                Feature Image\r\n              </header> */}\r\n\r\n              <Input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                className={classes.ImageUploader}\r\n                onChange={async (e) => {\r\n                  const uploadState = await this.uploadImageCallBack(e);\r\n                  if (uploadState.success) {\r\n                    this.setState({\r\n                      hasFeatureImage: true,\r\n                      article: {\r\n                        ...this.state.article,\r\n                        featureImage: uploadState.data.link,\r\n                      },\r\n                    });\r\n                  }\r\n                  console.log(\r\n                    \"Image uploaded to firebase\" + uploadState.data.link\r\n                  );\r\n                }}\r\n              ></Input>\r\n\r\n              {this.state.hasFeatureImage ? (\r\n                <header className={classes.ImageUploaded}>\r\n                  {\" \"}\r\n                  <img\r\n                    src={this.state.article.featureImage}\r\n                    className={classes.FeatureImg}\r\n                  />\r\n                  <Button onClick={() => this.deleteImageCallBack()}>X</Button>\r\n                </header>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </FormGroup>\r\n            <FormGroup>\r\n              {/* <header class=\"border-bottom-0\" className={classes.Label}>\r\n                Title\r\n              </header> */}\r\n\r\n              <Input\r\n                style={{ borderRadius: 0 }}\r\n                type=\"text\"\r\n                placeholder=\"Title of the post...\"\r\n                name=\"articleTitle\"\r\n                id=\"articleTitle\"\r\n                onChange={(e) => this.onChangeArticleTitle(e.target.value)}\r\n                value={this.state.article.title}\r\n                maxLength=\"60\"\r\n              />\r\n            </FormGroup>\r\n            <FormGroup>\r\n              {/* <header class=\"border-bottom-0\" className={classes.Label}>\r\n                Content\r\n              </header> */}\r\n              <ReactQuill\r\n                ref={(el) => (this.reactQuillRef = el)}\r\n                value={this.state.article.content}\r\n                onChange={(e) => this.onChangeArticleContent(e)}\r\n                placeholder=\"Type in an article...\"\r\n                theme=\"snow\"\r\n                modules={this.modules}\r\n                formats={this.formats}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Recaptcha\r\n                sitekey=\"6LeF59IZAAAAAK3nudAyu9wQDemGRHGN1LltZ95C\"\r\n                render=\"explicit\"\r\n                verifyCallback={this.verifyCallback}\r\n                expiredCallback={this.expiredCallback}\r\n              />\r\n            </FormGroup>{\" \"}\r\n            {!submitButtonCondition ? (\r\n              <FormGroup>\r\n                <Button style={{ borderRadius: 0 }} color=\"dark\" disabled>\r\n                  {\" \"}\r\n                  SUBMIT\r\n                </Button>\r\n              </FormGroup>\r\n            ) : (\r\n              <FormGroup>\r\n                <Button\r\n                  style={{ borderRadius: 0 }}\r\n                  color=\"dark\"\r\n                  onClick={(e) => this.submitArticle()}\r\n                >\r\n                  {\" \"}\r\n                  SUBMIT\r\n                </Button>\r\n              </FormGroup>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewArticle;\r\n","import React, { Component } from \"react\";\r\nimport firebase from \"../../Config/firebase\";\r\nimport classes from \"./ArticleRate.module.css\";\r\nimport { Button, Container } from \"reactstrap\";\r\nimport { isEmpty } from \"react-redux-firebase\";\r\n\r\nconst db = firebase.firestore();\r\n\r\nclass ArticleRate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  // upvoteArticles = (id) => {\r\n  //   const upvote = firebase.functions().httpsCallable(\"upvote\");\r\n  //   upvote({ id: id }).catch((error) => {\r\n  //     console.log(error.message);\r\n  //   });\r\n  // };\r\n\r\n  positiveRating = () => {\r\n    //get user and article refs\r\n    const userRef = db.collection(\"Users\").doc(this.props.auth.uid);\r\n    const articleRef = db\r\n      .collection(\"Articles\")\r\n      .doc(this.props.location.pathname.slice(9));\r\n\r\n    return userRef.get().then((doc) => {\r\n      //check if user has voted\r\n      if (\r\n        doc\r\n          .data()\r\n          .positiveRatings.includes(this.props.location.pathname.slice(9)) ||\r\n        doc\r\n          .data()\r\n          .negativeRatings.includes(this.props.location.pathname.slice(9))\r\n      ) {\r\n        console.log(\"only rate somthing once!\");\r\n      }\r\n\r\n      //update voted articles array\r\n      else\r\n        userRef\r\n          .update({\r\n            positiveRatings: [\r\n              ...doc.data().positiveRatings,\r\n              this.props.location.pathname.slice(9),\r\n            ],\r\n          })\r\n          .then(() => {\r\n            //update votes\r\n            return articleRef.update({\r\n              positiveRatings: firebase.firestore.FieldValue.increment(1),\r\n            });\r\n          });\r\n      //update user array\r\n    });\r\n  };\r\n  negativeRating = () => {\r\n    //get user and article refs\r\n    const userRef = db.collection(\"Users\").doc(this.props.auth.uid);\r\n    const articleRef = db\r\n      .collection(\"Articles\")\r\n      .doc(this.props.location.pathname.slice(9));\r\n\r\n    return userRef.get().then((doc) => {\r\n      //check if user has voted\r\n      if (\r\n        doc\r\n          .data()\r\n          .positiveRatings.includes(this.props.location.pathname.slice(9)) ||\r\n        doc\r\n          .data()\r\n          .negativeRatings.includes(this.props.location.pathname.slice(9))\r\n      ) {\r\n        console.log(\"only rate somthing once!\");\r\n      }\r\n\r\n      //update voted articles array\r\n      else\r\n        userRef\r\n          .update({\r\n            negativeRatings: [\r\n              ...doc.data().negativeRatings,\r\n              this.props.location.pathname.slice(9),\r\n            ],\r\n          })\r\n          .then(() => {\r\n            //update votes\r\n            return articleRef.update({\r\n              negativeRatings: firebase.firestore.FieldValue.increment(1),\r\n            });\r\n          });\r\n      //update user array\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container style={{ paddingLeft: 0, paddingRight: 0 }}>\r\n        <div className={classes.Rate}>\r\n          <div className={classes.Button}>\r\n            <Button\r\n              style={{ marginRight: 3 }}\r\n              size=\"sm\"\r\n              outline\r\n              color=\"dark\"\r\n              onClick={() => this.positiveRating()}\r\n            >\r\n              +\r\n            </Button>\r\n            <Button\r\n              style={{ marginLeft: 3 }}\r\n              size=\"sm\"\r\n              outline\r\n              color=\"dark\"\r\n              onClick={() => this.negativeRating()}\r\n            >\r\n              -\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <hr classeName={classes.HorLine} />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ArticleRate;\r\n","import React from \"react\";\r\nimport {\r\n  Card,\r\n  CardImg,\r\n  CardTitle,\r\n  CardSubtitle,\r\n  CardBody,\r\n  Badge,\r\n  Col,\r\n  Row,\r\n  Container,\r\n  Tooltip,\r\n} from \"reactstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport classes from \"./ArticleCard.module.css\";\r\nimport parse from \"html-react-parser\";\r\nimport { Link } from \"react-router-dom\";\r\nimport firebase from \"../../Config/firebase\";\r\n\r\n// data yyyy/mm/dd formatu\r\n\r\nexport function timeStampToString(ts) {\r\n  const date = new Date(ts * 1000);\r\n  return (\r\n    date.getFullYear() +\r\n    \"/\" +\r\n    (date.getMonth() + 1) +\r\n    \"/\" +\r\n    date.getDate() +\r\n    \" \" +\r\n    (date.getHours() < 10 ? \"0\" : \"\") +\r\n    date.getHours() +\r\n    \":\" +\r\n    (date.getMinutes() < 10 ? \"0\" : \"\") +\r\n    date.getMinutes() +\r\n    \":\" +\r\n    (date.getSeconds() < 10 ? \"0\" : \"\") +\r\n    date.getSeconds()\r\n  );\r\n}\r\n\r\nconst ArticleCard = (props) => {\r\n  function removeTags(str) {\r\n    if (str === null || str === \"\") return false;\r\n    else str = str.toString();\r\n    return str.replace(/(<([^>]+)>)/gi, \"\");\r\n  }\r\n\r\n  const articleScore =\r\n    (props.data.positiveRatings /\r\n      (props.data.negativeRatings + props.data.positiveRatings)) *\r\n    100;\r\n\r\n  return (\r\n    <div>\r\n      <Container className={classes.ViewArticleContainer}>\r\n        <div className={classes.Article}>\r\n          <div className={classes.ArticleInfo}>\r\n            <header className={classes.Title}>\r\n              <h3>{props.data.title}</h3>\r\n            </header>\r\n          </div>\r\n          {props.auth.isEmpty ? (\r\n            <div className={classes.ImageContainer}>\r\n              <img\r\n                className={classes.Image}\r\n                src={props.data.featureImage}\r\n                alt=\"Feature Image\"\r\n              />\r\n            </div>\r\n          ) : (\r\n            <Link\r\n              className={classes.ImageLink}\r\n              to={{\r\n                pathname: \"article/\" + props.data.id,\r\n                state: { article: props.data },\r\n              }}\r\n            >\r\n              <div className={classes.ImageContainer}>\r\n                {\" \"}\r\n                <img\r\n                  src={props.data.featureImage}\r\n                  alt=\"Card Image\"\r\n                  className={classes.Image}\r\n                />\r\n              </div>\r\n            </Link>\r\n          )}\r\n\r\n          <div className={classes.ArticleMain}>\r\n            {parse(removeTags(props.data.content))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className={classes.Info}>\r\n          {\" \"}\r\n          {!articleScore ? (\r\n            <Badge style={{ marginRight: 4, borderRadius: 0 }} color=\"dark\">\r\n              Not Rated\r\n            </Badge>\r\n          ) : (\r\n            <Badge style={{ marginRight: 4, borderRadius: 0 }} color=\"dark\">\r\n              {Math.round(articleScore)} %\r\n            </Badge>\r\n          )}\r\n          {props.data.commentCount ? (\r\n            <Badge style={{ marginRight: 4, borderRadius: 0 }} color=\"dark\">\r\n              R:{props.data.commentCount}\r\n            </Badge>\r\n          ) : (\r\n            <Badge style={{ marginRight: 4, borderRadius: 0 }} color=\"dark\">\r\n              No Replies\r\n            </Badge>\r\n          )}\r\n          <Badge style={{ marginRight: 4, borderRadius: 0 }} color=\"dark\">\r\n            P:\r\n            {props.data.createUserID.slice(0, 7)}\r\n          </Badge>\r\n          <Badge style={{ marginRight: 4, borderRadius: 0 }} color=\"dark\">\r\n            {\" \"}\r\n            D:{timeStampToString(props.data.createDate.seconds)}\r\n          </Badge>\r\n        </div>\r\n      </Container>\r\n      <hr className={classes.HorLine} />\r\n    </div>\r\n\r\n    // <Container className={classes.ArticleCardContainer}>\r\n    //   <Row>\r\n    //     <Col xs=\"2 px-0 \">\r\n    //       {\" \"}\r\n    //       {props.auth.isEmpty ? (\r\n    //         <div className={classes.ImageContainer}>\r\n    //           {\" \"}\r\n    //           <img\r\n    //             src={props.data.featureImage}\r\n    //             alt=\"Card Image\"\r\n    //             className={classes.Image}\r\n    //           />\r\n    //         </div>\r\n    //       ) : (\r\n    //         <Link\r\n    //           className={classes.ImageLink}\r\n    //           to={{\r\n    //             pathname: \"article/\" + props.data.id,\r\n    //             state: { article: props.data },\r\n    //           }}\r\n    //         >\r\n    //           <div className={classes.ImageContainer}>\r\n    //             {\" \"}\r\n    //             <img\r\n    //               src={props.data.featureImage}\r\n    //               alt=\"Card Image\"\r\n    //               className={classes.Image}\r\n    //             />\r\n    //           </div>\r\n    //         </Link>\r\n    //       )}\r\n    //     </Col>\r\n    //     <Col xs=\"10 px-0\">\r\n    //       {\" \"}\r\n    //       <CardBody className={classes.CardBody}>\r\n    //         <CardTitle className={classes.CardTitle}>\r\n    //           <b> {props.data.title}</b>\r\n    //         </CardTitle>\r\n    //         <CardSubtitle className={classes.CardSubtitle}>\r\n    //           {parse(props.data.content.slice(0, 145), { trim: true })}\r\n    //         </CardSubtitle>\r\n    //         <CardSubtitle classesName={classes.Badges}>\r\n    //           <Badge className={classes.CardBadge}>\r\n    //             {Math.round(articleScore)}%\r\n    //           </Badge>\r\n    //           <Badge className={classes.CardBadge}>\r\n    //             {props.data.commentCount}\r\n    //           </Badge>\r\n    //           <Badge className={classes.CardBadge}>\r\n    //             {props.data.createUserID.slice(0, 10)}\r\n    //           </Badge>\r\n\r\n    //           <Badge className={classes.CardBadge}>\r\n    //             {timeStampToString(props.data.createDate.seconds)}\r\n    //           </Badge>\r\n    //         </CardSubtitle>\r\n    //       </CardBody>\r\n    //     </Col>\r\n    //   </Row>\r\n    // </Container>\r\n  );\r\n};\r\nconst enhance = connect(({ firebase: { auth, profile } }) => ({\r\n  auth,\r\n  profile,\r\n}));\r\n\r\nexport default enhance(ArticleCard);\r\n","import React, { Component } from \"react\";\r\nimport { Container, Button } from \"reactstrap\";\r\nimport ArticleCard from \"../../../Component/ArticleCard/ArticleCard\";\r\nimport firebase from \"../../../Config/firebase\";\r\nimport classes from \"./Main.module.css\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\n// prieinam prie duomenu bazes firestorei\r\nconst db = firebase.firestore();\r\n\r\nclass Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoaded: false,\r\n      articles: [],\r\n      limit: 10,\r\n      lastArticle: null,\r\n      orderBy: \"createDate\",\r\n    };\r\n  }\r\n\r\n  nextArticle = () => {\r\n    //get last state we added from getUsers()\r\n    let last = this.state.lastArticle;\r\n    db.collection(\"Articles\")\r\n      .orderBy(this.state.orderBy, \"desc\")\r\n      .startAfter(last.createDate)\r\n      .limit(1)\r\n      .get()\r\n      .then((docs) => {\r\n        if (!docs.empty) {\r\n          var last = this.state.articles[this.state.articles.length - 1];\r\n          let allArticles = [];\r\n          docs.forEach(function (doc) {\r\n            const article = {\r\n              id: doc.id,\r\n              ...doc.data(),\r\n            };\r\n            allArticles.push(article);\r\n          });\r\n          //set state with updated array of data\r\n          //also save last fetched data in state\r\n          let updated_articles = this.state.articles.concat(allArticles);\r\n          this.setState(\r\n            {\r\n              articles: updated_articles,\r\n            },\r\n            () => {\r\n              this.setState({\r\n                isLoaded: true,\r\n                lastArticle: this.state.articles[\r\n                  this.state.articles.length - 1\r\n                ],\r\n              });\r\n            }\r\n          );\r\n        }\r\n      });\r\n    window.scrollTo(0, document.body.scrollHeight);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getMyArticles();\r\n  }\r\n  // imam colletiona pavadinimu \"Articles\", sukuriu array allArticles, tada imu kiekviena elementa is Articles, ir idedu i articles[] array,\r\n  //  kuris yra konstruktoriuje, naudodamas setState, kartu ir pakeiciu isLoaded i true\r\n\r\n  getMyArticles = () => {\r\n    db.collection(\"Articles\")\r\n      .orderBy(this.state.orderBy, \"desc\")\r\n      .limit(this.state.limit)\r\n      .onSnapshot((docs) => {\r\n        if (!docs.empty) {\r\n          let allArticles = [];\r\n          docs.forEach(function (doc) {\r\n            const article = {\r\n              id: doc.id,\r\n              ...doc.data(),\r\n            };\r\n            allArticles.push(article);\r\n          });\r\n          this.setState(\r\n            {\r\n              articles: allArticles,\r\n            },\r\n            () => {\r\n              this.setState({\r\n                isLoaded: true,\r\n                lastArticle: this.state.articles[\r\n                  this.state.articles.length - 1\r\n                ],\r\n              });\r\n            }\r\n          );\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n    // jei isLoaded yra true, tada einu per kiekviena article ir renderinu kievkiena article, jei isLoaded yra flase, nedarau nieko\r\n    return (\r\n      <Container className={classes.Main}>\r\n        {this.state.isLoaded\r\n          ? this.state.articles.map((article, index) => {\r\n              return <ArticleCard key={index} data={article} />;\r\n            })\r\n          : \"\"}\r\n        <div className={classes.MoreButton}>\r\n          {\" \"}\r\n          <Button\r\n            size=\"sm\"\r\n            outline\r\n            color=\"dark\"\r\n            style={{ borderRadius: 0 }}\r\n            onClick={() => this.nextArticle()}\r\n          >\r\n            Show 1 more post...\r\n          </Button>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Main;\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Navbar,\r\n  NavbarBrand,\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  NavbarToggler,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownItem,\r\n  DropdownMenu,\r\n  Button,\r\n  Collapse,\r\n  Modal,\r\n} from \"reactstrap\";\r\nimport classes from \"./Heading.module.css\";\r\nimport { connect } from \"react-redux\";\r\nimport firebase from \"../../../Config/firebase\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport NewComment from \"../../../NewComment/NewComment\";\r\n// kokia sios klases paskirtis? Naudoju kelis reactstrap componentus headeri. Collapse componentas turi isOpen property, kuri default bus\r\n// false. naudojant toggle metoda, paspaudus atnaujinam isOpen property is false i true, kodel? nezinau\r\nclass Heading extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  toggle = () => {\r\n    this.setState({\r\n      isOpen: !this.state.isOpen,\r\n    });\r\n  };\r\n\r\n  //react-blog-server folder\r\n  componentWillReceiveProps(nextProps, nextContext) {\r\n    if (!nextProps.auth.isEmpty) {\r\n      firebase\r\n        .auth()\r\n        .currentUser.getIdTokenResult()\r\n        .then((claim) => {\r\n          console.log(claim);\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Navbar\r\n          className={classes.Navbar}\r\n          expand=\"xs\"\r\n          color=\"light\"\r\n          fixed=\"top\"\r\n        >\r\n          <NavbarBrand style={{ marginRight: 0 }} href=\"/\">\r\n            {\" \"}\r\n            <img\r\n              className={classes.Logo}\r\n              src=\"https://firebasestorage.googleapis.com/v0/b/react-blog-a39d2.appspot.com/o/LogoMakr_85Wfsy.png?alt=media&token=46c44cf2-16d2-4636-ac42-1e4ef459c9c1\"\r\n            />\r\n          </NavbarBrand>\r\n          <Nav className=\"mr-auto\" navbar>\r\n            {this.props.auth.isEmpty ? (\r\n              <NavItem>\r\n                <Button\r\n                  style={{ borderRadius: 0 }}\r\n                  outline\r\n                  color=\"dark\"\r\n                  size=\"sm\"\r\n                  onClick={() => firebase.auth().signInAnonymously()}\r\n                >\r\n                  CREATE ID\r\n                </Button>\r\n              </NavItem>\r\n            ) : (\r\n              <NavItem>\r\n                <Button\r\n                  style={{ borderRadius: 0 }}\r\n                  outline\r\n                  color=\"dark\"\r\n                  size=\"sm\"\r\n                  href=\"/new-post\"\r\n                >\r\n                  CREATE POST\r\n                </Button>\r\n              </NavItem>\r\n            )}\r\n          </Nav>\r\n          <NavbarToggler onClick={this.toggle}></NavbarToggler>\r\n          <Collapse isOpen={this.state.isOpen} navbar>\r\n            <Nav navbar className=\"ml-auto\">\r\n              {this.props.auth.isEmpty ? (\r\n                <NavItem>\r\n                  {\" \"}\r\n                  <Button\r\n                    style={{ borderRadius: 0 }}\r\n                    outline\r\n                    color=\"dark\"\r\n                    size=\"sm\"\r\n                  >\r\n                    INFO\r\n                  </Button>\r\n                </NavItem>\r\n              ) : (\r\n                <NavItem>\r\n                  {\" \"}\r\n                  <Button\r\n                    style={{ borderRadius: 0 }}\r\n                    outline\r\n                    color=\"dark\"\r\n                    size=\"sm\"\r\n                    onClick={() => firebase.auth().signOut()}\r\n                  >\r\n                    LOGOUT\r\n                  </Button>\r\n                </NavItem>\r\n              )}\r\n            </Nav>\r\n          </Collapse>\r\n        </Navbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst enhance = connect(({ firebase: { auth, profile } }) => ({\r\n  auth,\r\n  profile,\r\n}));\r\n\r\nexport default enhance(Heading);\r\n","import React from \"react\";\r\nimport {\r\n  Card,\r\n  CardImg,\r\n  CardTitle,\r\n  CardSubtitle,\r\n  CardBody,\r\n  Badge,\r\n  Button,\r\n  Col,\r\n  Row,\r\n  Container,\r\n} from \"reactstrap\";\r\nimport parse from \"html-react-parser\";\r\nimport classes from \"./CommentCard.module.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport function timeStampToString(ts) {\r\n  const date = new Date(ts * 1000);\r\n  return (\r\n    date.getFullYear() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getDate()\r\n  );\r\n}\r\n\r\nconst CommentCard = (props) => {\r\n  timeStampToString = (ts) => {\r\n    const date = new Date(ts * 1000);\r\n    return (\r\n      date.getFullYear() +\r\n      \"/\" +\r\n      (date.getMonth() + 1) +\r\n      \"/\" +\r\n      date.getDate() +\r\n      \" \" +\r\n      (date.getHours() < 10 ? \"0\" : \"\") +\r\n      date.getHours() +\r\n      \":\" +\r\n      (date.getMinutes() < 10 ? \"0\" : \"\") +\r\n      date.getMinutes() +\r\n      \":\" +\r\n      (date.getSeconds() < 10 ? \"0\" : \"\") +\r\n      date.getSeconds()\r\n    );\r\n  };\r\n  return (\r\n    <div>\r\n      <Container className={classes.CommentCardContainer}>\r\n        <div className={classes.Comment}>\r\n          {props.data.featureImage !== \"\" ? (\r\n            <div className={classes.ImageContainer}>\r\n              <img\r\n                className={classes.Image}\r\n                src={props.data.featureImage}\r\n                alt={props.data.title}\r\n              />\r\n            </div>\r\n          ) : null}\r\n\r\n          <div className={classes.CommentMain}>{parse(props.data.content)}</div>\r\n        </div>\r\n        <div className={classes.Info}>\r\n          {\" \"}\r\n          <Badge style={{ marginRight: 4 }}>\r\n            {props.data.createUserID.slice(0, 7)}\r\n          </Badge>\r\n          <Badge\r\n            style={{ marginRight: 4 }}\r\n            data-toggle=\"tooltip\"\r\n            data-placement=\"bottom\"\r\n            title={props.data.createDate.seconds}\r\n          >\r\n            {\" \"}\r\n            {timeStampToString(props.data.createDate.seconds)}\r\n          </Badge>\r\n        </div>\r\n      </Container>\r\n      <hr className={classes.HorLine} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentCard;\r\n","import React, { Component } from \"react\";\r\nimport { Container } from \"reactstrap\";\r\nimport CommentCard from \"../../Component/CommentCard/CommentCard\";\r\nimport firebase from \"../../Config/firebase\";\r\n\r\n// prieinam prie duomenu bazes firestorei\r\nconst db = firebase.firestore();\r\n\r\nclass Comments extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoaded: false,\r\n      comments: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getMyComments();\r\n  }\r\n\r\n  // imam colletiona pavadinimu \"Articles\", sukuriu array allArticles, tada imu kiekviena elementa is Articles, ir idedu i articles[] array,\r\n  //  kuris yra konstruktoriuje, naudodamas setState, kartu ir pakeiciu isLoaded i true\r\n\r\n  getMyComments = () => {\r\n    const aid = this.props.location.pathname.slice(9);\r\n\r\n    db.collection(\"Articles\")\r\n      .doc(aid)\r\n      .collection(\"Comments\")\r\n      .orderBy(\"createDate\", \"asc\")\r\n      // .limit(10)\r\n      .onSnapshot((docs) => {\r\n        if (!docs.empty) {\r\n          let allComments = [];\r\n          docs.forEach(function (doc) {\r\n            const comment = {\r\n              id: doc.id,\r\n              ...doc.data(),\r\n            };\r\n            allComments.push(comment);\r\n          });\r\n          this.setState(\r\n            {\r\n              comments: allComments,\r\n            },\r\n            () => {\r\n              this.setState({\r\n                isLoaded: true,\r\n              });\r\n            }\r\n          );\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n    // jei isLoaded yra true, tada einu per kiekviena article ir renderinu kievkiena article, jei isLoaded yra flase, nedarau nieko\r\n    return (\r\n      <div>\r\n        <Container>\r\n          {this.state.isLoaded\r\n            ? this.state.comments.map((comment, index) => {\r\n                return <CommentCard key={index} data={comment} />;\r\n              })\r\n            : \"\"}\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Comments;\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  withRouter,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport LoginPage from \"../LoginPage/LoginPage\";\r\nimport ViewArticle from \"../ViewArticle/ViewArticle\";\r\nimport NewArticle from \"../NewArticle/NewArticle\";\r\nimport NewComment from \"../../NewComment/NewComment\";\r\nimport ArticleRate from \"../ArticleRate/ArticleRate\";\r\nimport Main from \"../Homepage/Main/Main\";\r\nimport Heading from \"../Homepage/Heading/Heading\";\r\nimport Comments from \"../Comments/Comments\";\r\nimport { connect } from \"react-redux\";\r\nimport * as firebase from \"firebase\";\r\n\r\nconst AdminOnly = (ComposedComponent, auth) => {\r\n  class AdminOnly extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        isPass: false,\r\n      };\r\n    }\r\n    componentDidMount() {\r\n      if (!auth.isEmpty) {\r\n        firebase\r\n          .auth()\r\n          .currentUser.getIdTokenResult()\r\n          .then((getIdTokenResult) => {\r\n            // if (getIdTokenResult.claims.type === \"administrator\") {\r\n            if (!auth.isEmpty) {\r\n              this.setState({\r\n                isPass: true,\r\n              });\r\n            } else {\r\n              this.props.history.push(\"/\");\r\n            }\r\n          });\r\n      } else {\r\n        this.props.history.push(\"/\");\r\n      }\r\n    }\r\n    render() {\r\n      if (this.state.isPass) {\r\n        return (\r\n          <div>\r\n            <ComposedComponent\r\n              location={this.props.location}\r\n              history={this.props.history}\r\n              auth={auth}\r\n            />\r\n          </div>\r\n        );\r\n      } else {\r\n        return <div>checking...</div>;\r\n      }\r\n    }\r\n  }\r\n  return AdminOnly;\r\n};\r\n\r\nclass RouterManager extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Heading />\r\n        {this.props.auth.isLoaded ? (\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Main />\r\n            </Route>\r\n            <Route path=\"/article/:id\">\r\n              <Route\r\n                path=\"/article/:id\"\r\n                component={AdminOnly(ViewArticle, this.props.auth)}\r\n              />\r\n\r\n              <Route\r\n                path=\"/article/:id\"\r\n                component={AdminOnly(ArticleRate, this.props.auth)}\r\n              />\r\n\r\n              <Route\r\n                path=\"/article/:id\"\r\n                component={AdminOnly(Comments, this.props.auth)}\r\n              />\r\n              <Route\r\n                path=\"/article/:id\"\r\n                component={AdminOnly(NewComment, this.props.auth)}\r\n              />\r\n            </Route>\r\n            <Route\r\n              path=\"/new-post\"\r\n              component={AdminOnly(NewArticle, this.props.auth)}\r\n            />\r\n            <Route render={() => <Redirect to={{ pathname: \"/\" }} />} />\r\n          </Switch>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst enhance = connect(({ firebase: { auth, profile } }) => ({\r\n  auth,\r\n  profile,\r\n}));\r\n\r\nexport default enhance(withRouter(RouterManager));\r\n","// instaliuoti packages kolkas:\n// reactstrap;\n// bootstrap;\n// react;\n// react-dom;\n// firebase;\n// react-router-dom\n// htlm-react-parser\n// react-quill\n// react-redux-firebase\n// react-firebaseui\n// react-recaptcha\n// react-redux\n// redux\n// react-infinite-scroll-component\n// uuid\n// compressorjs\n//in react-blog-server(different directory): express; firebase-admin\nimport React from \"react\";\n\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { getReduxStore, getRrfProp } from \"./Config/firebase-redux\";\nimport { ReactReduxFirebaseProvider } from \"react-redux-firebase\";\nimport RouterManager from \"./Layout/RouterManager/RouterManager\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      {/* enableLoggin issue provider or ReactReduxFirebaseProvider */}\n      <Provider store={getReduxStore()}>\n        <ReactReduxFirebaseProvider {...getRrfProp()}>\n          <Router>\n            <RouterManager />\n          </Router>\n        </ReactReduxFirebaseProvider>\n      </Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Label\":\"NewComment_Label__23mnp\",\"FeatureImg\":\"NewComment_FeatureImg__1UlFO\",\"NewCommentMain\":\"NewComment_NewCommentMain__302FI\",\"Info\":\"NewComment_Info__10Gth\",\"ImageUploaded\":\"NewComment_ImageUploaded__2BZzV\",\"ImageUploader\":\"NewComment_ImageUploader__OBJYg\",\"TextEditor\":\"NewComment_TextEditor__1y38o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Label\":\"NewArticle_Label__3mzQd\",\"FeatureImg\":\"NewArticle_FeatureImg__2cQM3\",\"NewArticleMain\":\"NewArticle_NewArticleMain__3PnKB\",\"Info\":\"NewArticle_Info__Ajjgh\",\"ImageUploaded\":\"NewArticle_ImageUploaded__39Ugm\",\"ImageUploader\":\"NewArticle_ImageUploader__19EqI\"};"],"sourceRoot":""}